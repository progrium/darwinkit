// Code generated by DarwinKit. DO NOT EDIT.

package coreml

import (
	"unsafe"

	"github.com/progrium/darwinkit/macos/foundation"
	"github.com/progrium/darwinkit/macos/metal"
	"github.com/progrium/darwinkit/objc"
)

// An interface that defines the behavior of a custom layer in your neural network model. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer?language=objc
type PCustomLayer interface {
	// optional
	EvaluateOnCPUWithInputsOutputsError(inputs []MultiArray, outputs []MultiArray, error unsafe.Pointer) bool
	HasEvaluateOnCPUWithInputsOutputsError() bool

	// optional
	OutputShapesForInputShapesError(inputShapes [][]foundation.Number, error unsafe.Pointer) [][]foundation.Number
	HasOutputShapesForInputShapesError() bool

	// optional
	InitWithParameterDictionaryError(parameters map[string]objc.Object, error unsafe.Pointer) objc.Object
	HasInitWithParameterDictionaryError() bool

	// optional
	EncodeToCommandBufferInputsOutputsError(commandBuffer metal.CommandBufferObject, inputs []metal.TextureObject, outputs []metal.TextureObject, error unsafe.Pointer) bool
	HasEncodeToCommandBufferInputsOutputsError() bool

	// optional
	SetWeightDataError(weights [][]byte, error unsafe.Pointer) bool
	HasSetWeightDataError() bool
}

// ensure impl type implements protocol interface
var _ PCustomLayer = (*CustomLayerObject)(nil)

// A concrete type for the [PCustomLayer] protocol.
type CustomLayerObject struct {
	objc.Object
}

func (c_ CustomLayerObject) HasEvaluateOnCPUWithInputsOutputsError() bool {
	return c_.RespondsToSelector(objc.Sel("evaluateOnCPUWithInputs:outputs:error:"))
}

// Evaluates the custom layer with the given inputs. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer/2935520-evaluateoncpuwithinputs?language=objc
func (c_ CustomLayerObject) EvaluateOnCPUWithInputsOutputsError(inputs []MultiArray, outputs []MultiArray, error unsafe.Pointer) bool {
	rv := objc.Call[bool](c_, objc.Sel("evaluateOnCPUWithInputs:outputs:error:"), inputs, outputs, error)
	return rv
}

func (c_ CustomLayerObject) HasOutputShapesForInputShapesError() bool {
	return c_.RespondsToSelector(objc.Sel("outputShapesForInputShapes:error:"))
}

// Calculates the shapes of the output of this layer for the given input shapes. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer/2935525-outputshapesforinputshapes?language=objc
func (c_ CustomLayerObject) OutputShapesForInputShapesError(inputShapes [][]foundation.Number, error unsafe.Pointer) [][]foundation.Number {
	rv := objc.Call[[][]foundation.Number](c_, objc.Sel("outputShapesForInputShapes:error:"), inputShapes, error)
	return rv
}

func (c_ CustomLayerObject) HasInitWithParameterDictionaryError() bool {
	return c_.RespondsToSelector(objc.Sel("initWithParameterDictionary:error:"))
}

// Initializes the custom layer implementation. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer/2935523-initwithparameterdictionary?language=objc
func (c_ CustomLayerObject) InitWithParameterDictionaryError(parameters map[string]objc.Object, error unsafe.Pointer) objc.Object {
	rv := objc.Call[objc.Object](c_, objc.Sel("initWithParameterDictionary:error:"), parameters, error)
	return rv
}

func (c_ CustomLayerObject) HasEncodeToCommandBufferInputsOutputsError() bool {
	return c_.RespondsToSelector(objc.Sel("encodeToCommandBuffer:inputs:outputs:error:"))
}

// Encodes GPU commands to evaluate the custom layer. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer/2936859-encodetocommandbuffer?language=objc
func (c_ CustomLayerObject) EncodeToCommandBufferInputsOutputsError(commandBuffer metal.CommandBufferObject, inputs []metal.TextureObject, outputs []metal.TextureObject, error unsafe.Pointer) bool {
	po0 := objc.WrapAsProtocol("MTLCommandBuffer", commandBuffer)
	rv := objc.Call[bool](c_, objc.Sel("encodeToCommandBuffer:inputs:outputs:error:"), po0, inputs, outputs, error)
	return rv
}

func (c_ CustomLayerObject) HasSetWeightDataError() bool {
	return c_.RespondsToSelector(objc.Sel("setWeightData:error:"))
}

// Assigns the weights for the connections within the layer. [Full Topic]
//
// [Full Topic]: https://developer.apple.com/documentation/coreml/mlcustomlayer/2936860-setweightdata?language=objc
func (c_ CustomLayerObject) SetWeightDataError(weights [][]byte, error unsafe.Pointer) bool {
	rv := objc.Call[bool](c_, objc.Sel("setWeightData:error:"), weights, error)
	return rv
}
